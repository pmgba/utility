pw.loader.using(["pokemon.js","pokemon.8.js","pokemonsprite.js"],function(){function createPokemonTR(pid){var tr="",num=pid.split("."),name=pw.util.getPokemonName(pid),data=pw.database.pokemon.data[8][pid];tr+="<tr>",tr+="<td>"+pw.sprite.create("pi",pid)+"</td>",tr+="<td>#"+num[0]+"</td>",tr+='<td><a href="'+mw.util.getUrl(name.name)+'">'+name.fullname+"</a></td>";var type=pw.util.createColorlabel("span","type",pw.database.types.names["zh-cn"][data.types[0]]);data.types[0]!=data.types[1]&&(type+=pw.util.createColorlabel("span","type",pw.database.types.names["zh-cn"][data.types[1]])),tr+="<td>"+type+"</td>";var a1=pw.database.abilities.names["zh-cn"][data.abilities[0]],a2=pw.database.abilities.names["zh-cn"][data.abilities[1]],a3=pw.database.abilities.names["zh-cn"][data.abilities[2]];return tr+='<td><a href="'+a1+'">'+a1+"</a></td>",tr+=a1!=a2&&0!=a2?'<td><a href="'+a2+'">'+a2+"</a></td>":"<td></td>",tr+=0!=a3?'<td><a href="'+a3+'">'+a3+"</a></td>":"<td></td>",tr+='<td><span class="ct c-stat-hp">'+data.basestats[0]+"</span></td>",tr+='<td><span class="ct c-stat-at">'+data.basestats[1]+"</span></td>",tr+='<td><span class="ct c-stat-df">'+data.basestats[2]+"</span></td>",tr+='<td><span class="ct c-stat-sa">'+data.basestats[4]+"</span></td>",tr+='<td><span class="ct c-stat-sd">'+data.basestats[5]+"</span></td>",tr+='<td><span class="ct c-stat-sp">'+data.basestats[3]+"</span></td>",tr+='<td><span class="ct c-stat-sum">'+eval(data.basestats.join("+"))+"</span></td>",tr+="</tr>"}$(".pokemonlist").each(function(){var a=$(this),b='<tbody><tr><th style="width:5%">图标</th><th style="width:5%">编号</th><th style="width:15%">宝可梦</th><th style="width:12%">属性</th><th style="width:16%" colspan="2">特性</th><th style="width:8%">隐藏特性</th><th>&nbsp;HP&nbsp;</th><th>攻击</th><th>防御</th><th>特攻</th><th>特防</th><th>速度</th><th>总和</th></tr>';if(a.data("list")){var c=a.data("list").toString().split(",");$.each(c,function(a,c){c in pw.database.pokemon.data[8]&&(b+=createPokemonTR(c))})}else if(a.data("type")){var d=parseInt(a.data("type"));$.each(pw.database.pokemon.data[8],function(a,c){$.inArray(d,c.types)>-1&&(b+=createPokemonTR(a))})}else if(a.data("ability")){var e=parseInt(a.data("ability"));$.each(pw.database.pokemon.data[8],function(a,c){$.inArray(e,c.abilities)>-1&&(b+=createPokemonTR(a))})}b+="</tbody>",a.html(pw.util.createArticleTable(b))}),mw.loader.using("jquery.tablesorter",function(){$(".pokemonlist table").tablesorter({sortList:[{1:"asc"}]})})});