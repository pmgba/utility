pokeWiki.loader.using(["pokemon.js","poketoru.js","poketoru.pokemon.js"],function(){$.extend(!0,pw.poketoru,{superEffects:[],skillPokemonCount:[]}),function(){if(pw.poketoru.displayPokemon=function(a){var b=$(a).data("pokemonList"),c="";$.each(b,function(a,b){c+='<img class="shufflepokemon" src="'+pw.poketoru.getPoketoruIconSrc(b)+'" data-pid="'+b+'" style="width:32px;"/>'}),$(a).html(c),pw.poketoru.createPoketoruTooltips()},$(".shuffle-skill, .shuffle-filter").length>0){for(var a=0;a<18;a++){pw.poketoru.superEffects[a]=[];for(var b=0;b<18;b++)2==pw.poketoru.typeEffects[b][a]&&pw.poketoru.superEffects[a].push(b)}pw.poketoru.loadAllPokemon(),$(".shuffle-skill, .shuffle-filter").each(function(){var a=$(this).data("sid");if(0!=a.length){var b=$(this).data("type"),c=$(this).data("se"),d=void 0!==b&&""!==b,e=void 0!==c&&""!==c;a=$.isArray(a)?a:[parseInt(a)],d&&(b=$.isArray(b)?b:[parseInt(b)]),e&&(c=parseInt(c));var f=[];if($.each(pw.poketoru.sortedPokemonList,function(g,h){0!=$(a).filter(h.skills).length&&(d&&-1==$.inArray(h.type,b)||e&&-1==$.inArray(h.type,pw.poketoru.superEffects[c])||f.push(h.id))}),0!=f.length)if($(this).data("pokemonList",f),$(this).data("autohide")){var g=$('<a href="#">[显示'+f.length+"只宝可梦]</a>");g.click(function(){return pw.poketoru.displayPokemon($(this).parent()),!1}),$(this).html(g)}else pw.poketoru.displayPokemon(this)}})}$(".shuffle-unreleased").length>0&&pokeWiki.loader.using(["MediaWiki:Pokemon.7.js"],function(){for(var a=[],b=0;b<pw.database.types.names["zh-cn"].length;b++)a.push([]);$.each(pw.database.pokemon.data[7],function(b,c){b in pw.poketoru.pokemonData||(a[c.t[0]].push(b),c.t[0]!=c.t[1]&&a[c.t[1]].push(b))}),$(".shuffle-unreleased").each(function(){var b=$(this),c=parseInt(b.data("type"),10),d=b.data("list");$.each(d,function(b,d){-1!=$.inArray(d,a[c])||d in pw.poketoru.pokemonData||a[c].push(d)}),a[c].sort();var e="";$.each(a[c],function(a,b){e+='<img src="'+pw.poketoru.getPoketoruIconSrc(b)+'" style="width:50px;" onerror="this.style.display=\'none\'"/>'}),b.html(e)})})}()});