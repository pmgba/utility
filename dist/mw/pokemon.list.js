pw.loader.using(["mdl:core/pokemon.js","mdl:core/pokemon.7.js","mdl:core/pokemon.sprite.js"],function(){function createPokemonTR(pid){var tr="",num=pid.split("."),name=pw.util.getPokemonName(pid),data=pw.database.pokemon.data[7][pid];tr+="<tr>",tr+="<td>"+pw.util.createPokemonIconS(pid)+"</td>",tr+="<td>#"+num[0]+"</td>",tr+='<td><a href="'+mw.util.getUrl(name.name)+'">'+name.fullname+"</a></td>";var type=pw.util.createColorlabel("span","type",data.types[0],null,"colorlabel-fixed");data.types[0]!=data.types[1]&&(type+=pw.util.createColorlabel("span","type",data.types[1],null,"colorlabel-fixed")),tr+="<td>"+type+"</td>";var a1=pw.database.abilities.names["zh-cn"][data.abilities[0]],a2=pw.database.abilities.names["zh-cn"][data.abilities[1]],a3=pw.database.abilities.names["zh-cn"][data.abilities[2]];return tr+='<td><a href="'+a1+'">'+a1+"</a></td>",tr+=a1!=a2&&0!=a2?'<td><a href="'+a2+'">'+a2+"</a></td>":"<td></td>",tr+=0!=a3?'<td><a href="'+a3+'">'+a3+"</a></td>":"<td></td>",tr+='<td class="stat">'+data.basestats[0]+"</td>",tr+='<td class="stat">'+data.basestats[1]+"</td>",tr+='<td class="stat">'+data.basestats[2]+"</td>",tr+='<td class="stat">'+data.basestats[4]+"</td>",tr+='<td class="stat">'+data.basestats[5]+"</td>",tr+='<td class="stat">'+data.basestats[3]+"</td>",tr+='<td class="stat">'+eval(data.basestats.join("+"))+"</td>",tr+="</tr>"}$(".pokemonlist").each(function(){var a=$(this),b='<tbody><tr><th style="width:10%" colspan="2">编号</th><th style="width:15%">宝可梦</th><th style="width:12%">属性</th><th style="width:16%" colspan="2">特性</th><th style="width:8%">隐藏特性</th><th>&nbsp;HP&nbsp;</th><th>攻击</th><th>防御</th><th>特攻</th><th>特防</th><th>速度</th><th>总和</th></tr>';if(a.data("list")){var c=a.data("list").toString().split(",");$.each(c,function(a,c){c in pw.database.pokemon.data[7]&&(b+=createPokemonTR(c))})}else if(a.data("type")){var d=parseInt(a.data("type"));$.each(pw.database.pokemon.data[7],function(a,c){$.inArray(d,c.t)>-1&&(b+=createPokemonTR(a))})}else if(a.data("ability")){var e=parseInt(a.data("ability"));$.each(pw.database.pokemon.data[7],function(a,c){$.inArray(e,c.a)>-1&&(b+=createPokemonTR(a))})}b+="</tbody>",a.html(pw.util.createArticleTable(b))}),mw.loader.using("jquery.tablesorter",function(){$(".pokemonlist").tablesorter({sortList:[{1:"asc"}]})}),pw.spriteGenerator.generate()});