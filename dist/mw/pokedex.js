pokedex={createPokemonRow:function(pid,data){var tr="",num=pid.split("."),name=pw.util.getPokemonName(pid);tr+='<tr style="line-height:30px;">',tr+="<td>"+pw.sprite.create("pi",pid)+"</td>",tr+="<td>#"+num[0]+"</td>",tr+='<td><a href="'+mw.util.getUrl(name.name)+'">'+name.fullname+"</a></td>";var type=pw.util.createColorlabel("span","type",pw.database.types.names["zh-cn"][data.types[0]]);data.types[0]!=data.types[1]&&(type+=pw.util.createColorlabel("span","type",pw.database.types.names["zh-cn"][data.types[1]])),tr+="<td>"+type+"</td>";var a1=pw.database.abilities.names["zh-cn"][data.abilities[0]],a2=pw.database.abilities.names["zh-cn"][data.abilities[1]],a3=pw.database.abilities.names["zh-cn"][data.abilities[2]];return tr+='<td><a href="'+a1+'" title="'+a1+'">'+a1+"</a></td>",tr+=a1!=a2&&0!=a2?'<td><a href="'+a2+'" title="'+a2+'">'+a2+"</a></td>":"<td></td>",tr+=0!=a3?'<td><a href="'+a3+'" title="'+a3+'">'+a3+"</a></td>":"<td></td>",tr+='<td class="ct c-stat-hp">'+data.basestats[0]+"</td>",tr+='<td class="ct c-stat-at">'+data.basestats[1]+"</td>",tr+='<td class="ct c-stat-df">'+data.basestats[2]+"</td>",tr+='<td class="ct c-stat-sa">'+data.basestats[4]+"</td>",tr+='<td class="ct c-stat-sd">'+data.basestats[5]+"</td>",tr+='<td class="ct c-stat-sp">'+data.basestats[3]+"</td>",tr+='<td class="ct c-stat-sum">'+eval(data.basestats.join("+"))+"</td>",tr+="</tr>"},createPokemonBlock:function(a,b){var c="",d=(a.split("."),pw.util.getPokemonName(a)),b=pw.database.pokemon.data[7][a],e=pw.util.createColorlabel("span","type",pw.database.types.names["zh-cn"][b.types[0]]);return b.types[0]!=b.types[1]&&(e+=pw.util.createColorlabel("span","type",pw.database.types.names["zh-cn"][b.types[1]])),c+='<div style="width:130px;padding:20px 10px;float:left;">',c+="<div>"+pw.util.createPokemonImage("pgl",a,"width:100px;")+"</div>",c+='<div><a href="'+mw.util.getUrl(d.name)+'">'+d.name+"</a></div>",c+="<div>"+e+"</div>",c+="</div>"},createPanel:function(){var a='<div class="card pokedex"><div class="card-header">宝可梦图鉴</div><div class="card-body border-bottom"><div class="container-fluid">\t<form class="form-horizontal" role="form">\t\t<div class="row">\t\t\t\t<div class="col-3"><select class="form-control" name="pokedex-type">\t\t\t\t<option value="-1">（属性）</option>'+function(){var a="";return $.each(pw.database.types.names["zh-cn"],function(b,c){a+='<option value="'+b+'">'+c+"</option>"}),a}()+'\t\t\t\t</select></div>\t\t\t\t<div class="col-3"><select class="form-control" name="pokedex-ability">\t\t\t\t<option value="-1">（特性）</option>'+function(){var a="";return $.each(pw.database.abilities.names["zh-cn"],function(b,c){0!=b&&(a+='<option value="'+b+'">'+c+"</option>")}),a}()+'\t\t\t\t</select></div>\t\t\t\t<div class="col-3"><select class="form-control" name="pokedex-generation">\t\t\t\t<option value="-1">（世代）</option>'+function(){for(var a="",b=1;b<pw.info.maxPokemonCounts.length;b++)a+='<option value="'+b+'">'+pokedex.genNames[b]+"</option>";return a}()+'\t\t\t\t</select></div>\t\t\t<div class="col-2 btn-group" data-toggle="buttons">\t\t\t\t<label class="btn btn-default"><input type="radio" name="pokedex-display" value="0" checked>列表</label>\t\t\t\t<label class="btn btn-default"><input type="radio" name="pokedex-display" value="1" >图标</label>\t\t\t</div>\t\t\t\t<div class="col-1">\t\t\t\t\t<button type="button" class="btn btn-primary" id="pokedex-show">显示</button>\t\t\t\t</div>\t\t</div>\t</form></div></div><table class="table table-sm table-hover text-center pokedex-results"><thead><tr><th>图标</th><th>编号</th><th>宝可梦</th><th>属性</th><th colspan="2">特性</th><th>隐藏特性</th><th>&nbsp;HP&nbsp;</th><th>攻击</th><th>防御</th><th>特攻</th><th>特防</th><th>速度</th><th>总和</th></tr></thead><tbody class=""></tbody></table></div>';$(".pw-jscontent").html(a),$("#pokedex-show").click(function(){var a=parseInt($("select[name=pokedex-type]").val()),b=parseInt($("select[name=pokedex-ability]").val()),c=parseInt($("select[name=pokedex-generation]").val()),d=parseInt($("input[name=pokedex-display]:checked").val());if(-1==a&&-1==b&&-1==c&&1==d)return void alert("数据太长，请添加筛选条件后重试。");var e="";1==d&&(e+='<tr><td colspan="14">'),$.each(pw.database.pokemon.data[7],function(f,g){if(!(a>-1&&-1==$.inArray(a,g.types)||b>0&&-1==$.inArray(b,g.abilities))){if(c>-1){var h=parseInt(f.split(".")[0]);if(h<=pw.info.maxPokemonCounts[c-1]||h>pw.info.maxPokemonCounts[c])return}e+=0==d?pokedex.createPokemonRow(f,g):pokedex.createPokemonBlock(f,g)}}),1==d&&(e+="</td></tr>"),$(".pokedex-results thead").toggle(0==d),$(".pokedex-results").toggleClass("table-hover",0==d),$(".pokedex-results tbody").html(e)})},checkHash:function(){if(window.location.hash){var a=decodeURI(window.location.hash.slice(1).replace(/\./g,"%")),b=$.inArray(a,pw.database.types.names["zh-cn"]);if(b>-1)$("select[name=pokedex-type]").val(b),$("#pokedex-show").click();else{var c=$.inArray(a,pw.database.abilities.names["zh-cn"]);if(c>0)$("select[name=pokedex-ability]").val(c),$("#pokedex-show").click();else{var d=$.inArray(a,pokedex.genNames);d>0&&($("select[name=pokedex-generation]").val(d),$("#pokedex-show").click())}}}},init:function(){pw.loader.using(["pokemon.js","pokemon.7.js","pokemonsprite.js","bootstrap"],function(){pokedex.genNames=[""];for(var a=1;a<pw.info.maxPokemonCounts.length;a++)pokedex.genNames[a]="第"+"零一二三四五六七八九十"[a]+"世代";pokedex.createPanel(),pokedex.checkHash()})}()};