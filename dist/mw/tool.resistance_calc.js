Array.indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1}),pokeWiki.loader.using(["pokemon","pokemon/pokemon.7.js"],function(){function a(){var a='<div class="container"><div class="row">\t<div class="col-lg-6">\t\t<form class="form-horizontal" role="form">\t\t\t<div class="form-group">\t\t\t\t<label class="col-xs-2 control-label">世代</label>\t\t\t\t<div class="col-xs-10 btn-group" data-toggle="buttons">\t\t\t\t\t<label class="btn btn-default active"><input type="radio" name="calc_gen" value="6" checked>第六世代</label>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="form-group">\t\t\t\t<label class="col-xs-2 control-label">技能属性</label>\t\t\t\t<div class="col-xs-10 form-control-static" id="calc_attacktypes">\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="form-group">\t\t\t\t<label class="col-xs-2 control-label">特殊技能</label>\t\t\t\t<div class="col-xs-10 form-control-static" id="calc_specialattacks">\t\t\t\t\t<span class="colorcell type-斗 option-off" data-value="560">飞行压制</span>\t\t\t\t\t<span class="colorcell type-冰 option-off" data-value="573">冷冻干燥</span>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="form-group">\t\t\t\t<label class="col-xs-2 control-label">自身属性</label>\t\t\t\t<div class="col-xs-10 form-control-static" id="calc_selftypes">\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="form-group">\t\t\t\t<label class="col-xs-2 control-label">抵抗系数</label>\t\t\t\t<div class="col-xs-10 btn-group" data-toggle="buttons">\t\t\t\t\t<label class="btn btn-default"><input type="radio" name="calc_resrate" value="75" >＜75%</label>\t\t\t\t\t<label class="btn btn-default active"><input type="radio" name="calc_resrate" value="100" checked>＜100%</label>\t\t\t\t\t<label class="btn btn-default"><input type="radio" name="calc_resrate" value="101" >≤100%</label>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="form-group">\t\t\t\t<label class="col-xs-2 control-label">特殊规则</label>\t\t\t\t<div class="col-xs-10 btn-group" data-toggle="buttons">\t\t\t\t\t<label class="btn btn-default"><input type="checkbox" id="calc_revert">反转对战</label>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="form-group">\t\t\t\t<div class="col-xs-offset-2 col-xs-10">\t\t\t\t\t<button type="button" class="btn btn-primary" id="calc">计算</button>\t\t\t\t</div>\t\t\t</div>\t\t</form>\t</div>\t<div class="col-lg-6" id="calc_results">\t\t<table class="table col-lg-12 table-condensed text-center">\t\t\t<thead>\t\t\t\t<tr><th style="width:10%">编号</th><th style="width:40%">精灵</th><th style="width:20%">属性</th><th style="width:20%">最高倍率</th></tr>\t\t\t</thead>\t\t\t<tbody id="calc_resultbody">\t\t\t</tbody>\t\t</table>\t</div></div></div>';$(".pw-jscontent").html(a),a="",$.each(d,function(b,c){a+='<span class="colorcell type-'+c+' option-off" data-value="'+b+'">'+c+"</span>"}),$("#calc_attacktypes").html(a),$("#calc_selftypes").html(a),$(".colorcell").click(function(){$(this).toggleClass("option-off option-on")}),mw.util.addCSS(".option-off {\tbackground-color: white !important;\tcolor: #666 !important;\tborder-color: #999 !important;}.colorcell {\tcursor: pointer;}.table-condensed td {\tpadding: 2px 0 3px 0;}")}function b(a){return 0==a?2:2==a?.5:.5==a?2:a}function c(a,c,d,f,m,n){var o=1;switch(n?(o=b(e[6][a][c]),d!=c&&(o*=b(e[6][a][d]))):(o=e[6][a][c],d!=c&&(o*=e[6][a][d])),f){case 0:break;case 10:a==k&&(o=0);break;case 11:a==i&&(o=0);break;case 18:a==h&&(o=0);break;case 25:o<=1&&(o=0);break;case 26:a==g&&(o=0);break;case 31:a==k&&(o=0);break;case 47:a==h&&(o/=2),a==l&&(o/=2);break;case 78:a==k&&(o=0);break;case 85:a==h&&(o/=2);break;case 87:a==i?o=0:a==h&&(o*=1.25);break;case 111:o>1&&(o*=.75);break;case 114:a==i&&(o=0);break;case 116:o>1&&(o*=.75);break;case 157:a==j&&(o=0)}return m&&(o*=1.5),o}var d=["普","斗","飞","毒","地","岩","虫","鬼","钢","火","水","草","电","超","冰","龙","恶","妖"],e={5:[[1,1,1,1,1,.5,1,0,.5,1,1,1,1,1,1,1,1],[2,1,.5,.5,1,2,.5,0,2,1,1,1,1,.5,2,1,2],[1,2,1,1,1,.5,2,1,.5,1,1,2,.5,1,1,1,1],[1,1,1,.5,.5,.5,1,.5,0,1,1,2,1,1,1,1,1],[1,1,0,2,1,2,.5,1,2,2,1,.5,2,1,1,1,1],[1,.5,2,1,.5,1,2,1,.5,2,1,1,1,1,2,1,1],[1,.5,.5,.5,1,1,1,.5,.5,.5,1,2,1,2,1,1,2],[0,1,1,1,1,1,1,2,.5,1,1,1,1,2,1,1,.5],[1,1,1,1,1,2,1,1,.5,.5,.5,1,.5,1,2,1,1],[1,1,1,1,1,.5,2,1,2,.5,.5,2,1,1,2,.5,1],[1,1,1,1,2,2,1,1,1,2,.5,.5,1,1,1,.5,1],[1,1,.5,.5,2,2,.5,1,.5,.5,2,.5,1,1,1,.5,1],[1,1,2,1,0,1,1,1,1,1,2,.5,.5,1,1,.5,1],[1,2,1,2,1,1,1,1,.5,1,1,1,1,.5,1,1,0],[1,1,2,1,2,1,1,1,.5,.5,.5,2,1,1,.5,2,1],[1,1,1,1,1,1,1,1,.5,1,1,1,1,1,1,2,1],[1,.5,1,1,1,1,1,2,.5,1,1,1,1,2,1,1,.5]],6:[[1,1,1,1,1,.5,1,0,.5,1,1,1,1,1,1,1,1,1],[2,1,.5,.5,1,2,.5,0,2,1,1,1,1,.5,2,1,2,.5],[1,2,1,1,1,.5,2,1,.5,1,1,2,.5,1,1,1,1,1],[1,1,1,.5,.5,.5,1,.5,0,1,1,2,1,1,1,1,1,2],[1,1,0,2,1,2,.5,1,2,2,1,.5,2,1,1,1,1,1],[1,.5,2,1,.5,1,2,1,.5,2,1,1,1,1,2,1,1,1],[1,.5,.5,.5,1,1,1,.5,.5,.5,1,2,1,2,1,1,2,.5],[0,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,.5,1],[1,1,1,1,1,2,1,1,.5,.5,.5,1,.5,1,2,1,1,2],[1,1,1,1,1,.5,2,1,2,.5,.5,2,1,1,2,.5,1,1],[1,1,1,1,2,2,1,1,1,2,.5,.5,1,1,1,.5,1,1],[1,1,.5,.5,2,2,.5,1,.5,.5,2,.5,1,1,1,.5,1,1],[1,1,2,1,0,1,1,1,1,1,2,.5,.5,1,1,.5,1,1],[1,2,1,2,1,1,1,1,.5,1,1,1,1,.5,1,1,0,1],[1,1,2,1,2,1,1,1,.5,.5,.5,2,1,1,.5,2,1,1],[1,1,1,1,1,1,1,1,.5,1,1,1,1,1,1,2,1,0],[1,.5,1,1,1,1,1,2,1,1,1,1,1,2,1,1,.5,.5],[1,2,1,.5,1,1,1,1,.5,.5,1,1,1,1,1,2,2,1]]},f=1,g=4,h=9,i=10,j=11,k=12,l=14;a(),$("#calc").click(function(){if(0!=$("#calc_attacktypes .option-on, #calc_specialattacks .option-on").length){var a=[],b=[],e=[];$("#calc_attacktypes .option-on").each(function(b,c){a.push(parseInt($(this).data("value")))}),$("#calc_specialattacks .option-on").each(function(a,c){b.push(parseInt($(this).data("value")))}),$("#calc_selftypes .option-on").each(function(a,b){e.push(parseInt($(this).data("value")))});var g=$("#calc_revert")[0].checked,j=parseInt($("input[name=calc_resrate]:checked").val())/100,k=b.indexOf(560)>=0,m=b.indexOf(573)>=0,n=b.indexOf(592)>=0,o="";$.each(pw.database.pokemon.data[6],function(b,p){var q=[];$.each(p.a,function(b,d){var j=[];if($.each(a,function(a,b){var f=e.indexOf(b)>=0;j[a]=c(b,p.t[0],p.t[1],d,f,g)}),k){var o=e.indexOf(f)>=0;j.push(c(f,p.t[0],p.t[1],d,o,g)*c(2,p.t[0],p.t[1],d,!1,g))}if(m){var o=e.indexOf(l)>=0,r=c(l,p.t[0],p.t[1],d,o,g);p.t[0]!=i&&p.t[1]!=i||(r*=4),j.push(r)}if(n){var o=e.indexOf(i)>=0,r=c(i,p.t[0],p.t[1],d,o,g)*c(h,p.t[0],p.t[1],d,!1,g);25==d&&(r=2),j.push(r)}q[b]=Math.max.apply(null,j)});var r=Math.min.apply(null,q);if(r<j){var s=b.split(".")[0],t=pw.util.getPokemonName(b),u='<a href="/wiki/'+t[0]+'">'+t[2]+"</a>",v='<span class="colorcells"><span class="colorcell type-'+d[p.t[0]]+'">'+d[p.t[0]]+"</span>";p.t[0]!=p.t[1]&&(v+='<span class="colorcell type-'+d[p.t[1]]+'">'+d[p.t[1]]+"</span>"),v+="</span>",o+="<tr><td>#"+s+"</td><td>"+u+"</td><td>"+v+"</td><td>"+r+"</td></tr>"}}),$("#calc_resultbody").html(o)}})});